<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>prototype</title>
</head>
<body>
	<script>
		let arr= new myArray('a','b','c','d',1,2,3,4,'b')
		console.log(arr)
		arr.push('x','y','z');
		let result=arr.some(function(valu){
			return typeof valu=='number';
		})
		 let result1=arr.indexOf('b');
		 let result2=arr.map(function(value){
		 	return value+2;
		 })
		 let result3=arr.lastindexOf('b')
		 let result4=arr.every(function(valu){
		 	return typeof value=='string';
		 })
		 let result5=arr.filter(function(value){
		 	return typeof value=='number'
		 })
		 console.log(result)
		 console.log(result1)
		 console.log(result2)
		 console.log(result3)
		 console.log(result4)
		console.log(result5)
		console.log(arr.revase())
		console.log(arr.join())
		function myArray(){
			for(let i=0;i<arguments.length;i++){
				this[i]=arguments[i];
			}
			this.length=arguments.length;
			this.push=function(){
             for(let i=0;i<arguments.length;i++){
             	this[this.length++]=arguments[i];
                // this.length++;
             }
			}
			/*some*/
			this.some=function(fn){
				for(let i=0;i<this.length;i++){
					if(fn(this[i])){
						return true;
					}
				}
				return false;
			}
			/*第一次出现的位置*/
			this.indexOf=function(valu){
				for(let i=0;i<this.length;i++){
					if(this[i]==valu){
						return i;
					}
				}
				return -1;
			}
			/*最后一次出现的位置*/
			this.lastindexOf=function(valu){
				for(let i=this.length-1;i>0;i--){
					if(this[i]==valu){
						return i
					}
					return -1
				}
			}
			/*映射*/
			this.map=function(fn){
				let newarr=new myArray()
				for(let i=0;i<this.length;i++){
					newarr.push(this[i]);
				}
				return newarr
			}
			/*every*/
			this.every=function(fn){
				for(let i=0;i<this.length;i++){
					if(!fn(this[i])){
						return false;
					}
				}
				return true;
			}
			/*翻转*/
			this.revase=function(value){
				let newarr=new myArray()
				for(let i=this.length-1;i>-1;i--){
					newarr.push(this[i])
				}
				return newarr
			}
			/*筛选*/
			this.filter=function(fn){
				let newarr=new myArray()
				for(let i=0;i<this.length;i++){
					if(fn(this[i])){
						newarr.push(this[i])
					}
				}
				return newarr
			}
			/*拼接*/
			this.join=function(str){
				str=str||'-';
				let over='';
				for(let i=0;i<this.length;i++){
					if(i<this.length-1){
						over+=this[i]+str;
					}else{
						over+=this[i];
					}
				}
				return over;
			}
		}
	</script>
	<script>
		let arr1=new myArray1(1,2,3,undefined,4,undefined,5,6)
		console.log(arr1.delete())
		function myArray1(){
			for(let i=0;i<arguments.length;i++){
				this[i]=arguments[i];
			}
			this.length=arguments.length;
			this.push=function(){
             for(let i=0;i<arguments.length;i++){
             	this[this.length++]=arguments[i];
                // this.length++;
             }
			}
			this.delete=function(){
			let newarr= new myArray1();
			for(let i=0;i<this.length;i++){
				if(this[i]!=undefined){
					newarr.push(this[i]);
				}
			}
			return newarr
		}
		}
	</script>
</body>
</html>